---
import DynamicIcon from "@/helpers/DynamicIcon";

interface Props {
  icon: string;
  className?: string;
  size?: string;
  ariaLabel?: string;
  ariaHidden?: boolean;
}

const {
  icon,
  className = "",
  size = "1em",
  ariaLabel,
  ariaHidden = false,
} = Astro.props;

// Zentrale Mapping-Logik: Emoji/Text â†’ react-icons
const iconMap: Record<string, string> = {
  // System identifiers (Zeiterfassungssysteme)
  chip: "FaCreditCard",
  "ğŸ’³": "FaCreditCard",
  fingerprint: "FaFingerprint",
  "ğŸ‘†": "FaFingerprint",
  face: "FaCircleUser",
  "ğŸ‘¤": "FaCircleUser",

  // Security & Trust
  lock: "FaLock",
  "ğŸ”’": "FaLock",
  "ğŸ‡©ğŸ‡ª": "FaFlag",
  shield: "FaShield",
  clock: "FaClock",
  flag: "FaFlag",
  ban: "FaBan",

  // Speed & Performance
  "âš¡": "FaBolt",
  "ğŸš€": "FaRocket",

  // Features
  "ğŸ’§": "FaDroplet",
  "ğŸŒ": "FaGlobe",
  "ğŸŒ": "FaGlobe",
  "ğŸ”§": "FaWrench",
  "âš™ï¸": "FaGear",
  "ğŸ’¬": "FaComments",
  "ğŸ ": "FaHouse",
  "ğŸ“¡": "FaWifi",
  "ğŸ’°": "FaMoneyBill",
  "ğŸ“±": "FaMobileScreen",
  "ğŸ¯": "FaBullseye",
  "ğŸ‘¥": "FaUsers",
  "ğŸ›¡ï¸": "FaShield",
  "ğŸ–ï¸": "FaHandPointUp",

  // UI elements
  "âœ“": "FaCheck",
  "âœ”": "FaCheck",
  "âœ”ï¸": "FaCheck",
  "â†’": "FaArrowRight",
  "â€¢": "FaCircle",
  "â“": "FaCircleQuestion",
  "ğŸ“¦": "FaBox",
  "âŒ": "FaXmark",
  â„¹ï¸: "FaCircleInfo",
  "â­": "FaStar",
  "â¤ï¸": "FaHeart",

  // Business & Support
  "ğŸ“": "FaPhone",
  "ğŸ“§": "FaEnvelope",
  "ğŸ•’": "FaClock",
  "ğŸ“Š": "FaChartLine",
  "ğŸ“": "FaGraduationCap",
  "ğŸ’¼": "FaBriefcase",
  "ğŸ¢": "FaBuilding",

  // Status & Badges
  "âœ…": "FaCircleCheck",
  "âš ï¸": "FaTriangleExclamation",
  "ğŸ”´": "FaCircle",
  "ğŸŸ¢": "FaCircle",

  // Navigation
  "ğŸ”™": "FaArrowLeft",
  "ğŸ”": "FaArrowUp",
  "ğŸ”½": "FaArrowDown",
};

// Special mappings for icon name variations
const iconNameMap: Record<string, string> = {
  FaShieldCheck: "FaShield", // Map FaShieldCheck to FaShield if it doesn't exist
};

// Check if icon is already a React Icon name (starts with "Fa")
// First check if there's a name mapping, then use directly or map from emoji/text
let reactIcon: string;
if (icon.startsWith("Fa")) {
  reactIcon = iconNameMap[icon] || icon;
} else {
  reactIcon = iconMap[icon] || "FaCircleInfo";
}

// Accessibility props
const accessibilityProps = ariaHidden
  ? { "aria-hidden": "true" }
  : ariaLabel
    ? { "aria-label": ariaLabel, role: "img" }
    : {};
---

<DynamicIcon
  icon={reactIcon}
  className={className}
  style={`font-size: ${size}`}
  {...accessibilityProps}
/>
