---
import config from "@/config/config.json";
import Base from "@/layouts/Base.astro";
import { getListPage } from "@/lib/contentParser.astro";
import CallToAction from "@/partials/CallToAction.astro";
import PageHeader from "@/partials/PageHeader.astro";
import { ContactForm } from "@/components/functional/ContactForm";

const contact = await getListPage("contact", "-index");
if (contact.data.draft) {
  return Astro.redirect("/404");
}
const { title, description, meta_title } = contact.data;
---

<Base title={title} meta_title={meta_title} description={description}>
  <PageHeader title={title} content={description} />

  <ContactForm client:load />

  <CallToAction />
</Base>
