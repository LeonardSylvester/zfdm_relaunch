# =============================================================================
# SEO RELAUNCH REDIRECTS - zeiterfassung-fdm.de
# =============================================================================
# Erstellt: 2025-12-09
# Zweck: 301 Redirects fuer Website-Relaunch (WordPress -> Astro)
#
# WICHTIG: Diese Datei muss VOR dem Relaunch auf dem Server aktiviert werden!
# Alle Redirects zeigen direkt auf die FINALE Ziel-URL (keine Chains!)
# =============================================================================

# Aktiviere RewriteEngine (nur wenn mod_rewrite verfuegbar)
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
</IfModule>

# =============================================================================
# SECTION 1: KRITISCHE RANKINGS (Hoechste Prioritaet!)
# Diese URLs haben aktive Google-Rankings und generieren Traffic
# =============================================================================

# KRITISCH: /zeiterfassungssystem-mit-chip/ -> /zeiterfassungssysteme/chip
# Keyword: "zeiterfassung mit chip" | Position: 3 | ETV: 224.0 (HOECHSTER TRAFFIC!)
RedirectMatch 301 ^/zeiterfassungssystem-mit-chip/?$ /zeiterfassungssysteme/chip

# HOCH: /zeiterfassungssystem-mit-fingerabdruck/ -> /zeiterfassungssysteme/fingerabdruck
# Keyword: "zeiterfassung fingerprint" | Position: 8 | ETV: 14.6
RedirectMatch 301 ^/zeiterfassungssystem-mit-fingerabdruck/?$ /zeiterfassungssysteme/fingerabdruck

# HOCH: /zeiterfassungssystem-mit-gesichtserkennung/ -> /zeiterfassungssysteme/gesichtserkennung
RedirectMatch 301 ^/zeiterfassungssystem-mit-gesichtserkennung/?$ /zeiterfassungssysteme/gesichtserkennung

# HOCH: /rfid/ -> /zeiterfassungssysteme/chip
# Keyword: "zeiterfassungsgeraete mit chip" | Position: 4 | ETV: 6.8
RedirectMatch 301 ^/rfid/?$ /zeiterfassungssysteme/chip

# HOCH: /zeiterfassung-ohne-monatliche-kosten/ -> /ressourcen/blog/zeiterfassung-ohne-monatliche-kosten
# Keyword: "zeiterfassung ohne monatliche kosten" | Position: 4 | ETV: 10.1
RedirectMatch 301 ^/zeiterfassung-ohne-monatliche-kosten/?$ /ressourcen/blog/zeiterfassung-ohne-monatliche-kosten

# HOCH: EN-Seite mit Rankings! /in/time-recording-system-with-chip/ -> /zeiterfassungssysteme/chip
# Keyword: "time recording" | Position: 10 | ETV: 18.4
RedirectMatch 301 ^/in/time-recording-system-with-chip/?$ /zeiterfassungssysteme/chip

# =============================================================================
# SECTION 2: BESTEHENDE REDIRECT-QUELLEN (Chain-Vermeidung!)
# Diese URLs hatten bereits Redirects - muessen direkt auf FINALE URL zeigen
# =============================================================================

# /fingerabdruck/ wurde auf /zeiterfassungssystem-mit-fingerabdruck/ redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/fingerabdruck/?$ /zeiterfassungssysteme/fingerabdruck
RedirectMatch 301 ^/fingerabdruck/price\.php$ /zeiterfassungssysteme/fingerabdruck

# /about-us/ wurde auf /in/about-us/ redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/about-us/?$ /ueber-uns

# /blog wurde auf /in/blog-2/ redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/blog/?$ /ressourcen/blog

# /arbeitszeiterfassung-pflicht/ wurde auf /arbeitszeiterfassung-pflicht-in-deutschland/ redirected
# Jetzt direkt auf finale URL (aktualisierter 2025-Guide):
RedirectMatch 301 ^/arbeitszeiterfassung-pflicht/?$ /ressourcen/blog/zeiterfassung-pflicht-2025

# /zeiterfassung-in-kleinbetrieben/ wurde auf /digitale-zeiterfassung-fur-kleine-betriebe/ redirected
# Jetzt direkt auf finale URL (Kosten-Guide):
RedirectMatch 301 ^/zeiterfassung-in-kleinbetrieben/?$ /ressourcen/blog/kosten-digitale-zeiterfassung

# /schritt-fur-schritt-anleitung-mit-chip/ wurde auf /zeiterfassungssystem-mit-chip/ redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/schritt-fur-schritt-anleitung-mit-chip/?$ /zeiterfassungssysteme/chip

# /schritt-fur-schritt-anleitung-mit-gesichtserkennung/ wurde auf Produktseite redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/schritt-fur-schritt-anleitung-mit-gesichtserkennung/?$ /zeiterfassungssysteme/gesichtserkennung

# /agb wurde auf /agb-gunstige-zeiterfassung-fur-kleinbetriebe/ redirected
# Neue Seite IST /agb - kein Redirect noetig fuer /agb
# Nur die alte lange URL muss redirected werden (siehe Section 3)

# /fragebogen wurde auf /fragebogen-zeiterfassung-zfdm/ redirected
# Jetzt direkt auf finale URL:
RedirectMatch 301 ^/fragebogen/?$ /kontakt

# Legacy URLs aus alten Redirects
RedirectMatch 301 ^/kontakt\.php$ /kontakt
RedirectMatch 301 ^/kontakt/?$ /kontakt
RedirectMatch 301 ^/kontakt//?$ /kontakt
RedirectMatch 301 ^/datenchutz/?$ /datenschutz
RedirectMatch 301 ^/datenschutz-zeiterfassung-kmu/?$ /datenschutz


# Datum-basierte Blog-URLs
RedirectMatch 301 ^/2025/04/06/einfache-und-gunstige-zeiterfassung/?$ /ressourcen/blog/kosten-digitale-zeiterfassung
RedirectMatch 301 ^/2025/04/06/?$ /ressourcen/blog
RedirectMatch 301 ^/2025/04/07/?$ /

# Legacy Blog HTML
RedirectMatch 301 ^/blog/mitarbeiter-zeiterfassung-fuer-ihre-Betrieb\.html$ /ressourcen/blog/kosten-digitale-zeiterfassung

# Kundenstimme Typo-Korrektur (nadja -> nadjar)
RedirectMatch 301 ^/kundenstimme-zu-unserer-digitalen-mitarbeiter-zeiterfassung-in-der-zahnarztpraxis-nadja/?$ /branchen/arztpraxen

# =============================================================================
# SECTION 3: PRODUKT-SEITEN
# =============================================================================

# Preisseiten -> zentrale /preise Seite
RedirectMatch 301 ^/preise-mitarbeiter-zeiterfassung/?$ /preise
RedirectMatch 301 ^/zeiterfassung-mit-chip-preise-ohne-abo-kosten/?$ /preise
RedirectMatch 301 ^/preise-fur-zeiterfassung-mit-fingerabdruck/?$ /preise
RedirectMatch 301 ^/preise-fur-zeiterfassung-mit-gesichtserkennung/?$ /preise

# Module/Systeme
RedirectMatch 301 ^/module-intern/?$ /zeiterfassungssysteme

# =============================================================================
# SECTION 4: UNTERNEHMENSSEITEN
# =============================================================================

# Ueber uns
RedirectMatch 301 ^/zeiterfassung-fur-den-mittelstand/?$ /ueber-uns

# Referenzen -> Branchen
RedirectMatch 301 ^/referenzen-zeiterfassungsysteme/?$ /branchen

# =============================================================================
# SECTION 5: BRANCHEN-SEITEN
# =============================================================================

# Arztpraxen
RedirectMatch 301 ^/digitale-zeiterfassung-fur-die-arztpraxis/?$ /branchen/arztpraxen
RedirectMatch 301 ^/kundenrezension-digitale-zeiterfassung-augenarzt-dr-kulmbach/?$ /branchen/arztpraxen
RedirectMatch 301 ^/kundenstimme-zu-unserer-digitalen-mitarbeiter-zeiterfassung-in-der-zahnarztpraxis-nadjar/?$ /branchen/arztpraxen
RedirectMatch 301 ^/elementor-410/?$ /branchen/arztpraxen

# Logistik/Speditionen
RedirectMatch 301 ^/zeiterfassung-fur-speditionen/?$ /branchen/logistik

# Kindergarten
RedirectMatch 301 ^/zeiterfassung-im-kindergarten/?$ /branchen/kindergarten

# Gastronomie (Hotels + Cafes)
RedirectMatch 301 ^/digitale-zeiterfassung-fuer-hotels/?$ /branchen/gastronomie
RedirectMatch 301 ^/digitale-zeiterfassung-fur-cafes/?$ /branchen/gastronomie

# Schulen
RedirectMatch 301 ^/digitale-zeiterfassung-fur-schulen/?$ /branchen/schulen

# Handwerk
RedirectMatch 301 ^/mobile-zeiterfassung-handwerk-digital/?$ /branchen/handwerk

# Kleinbetriebe
RedirectMatch 301 ^/arbeitszeiterfassung-fur-kleinbetriebe/?$ /branchen/kleinbetriebe

# Mittelstand
RedirectMatch 301 ^/webbasierte-zeiterfassung-fur-den-mittelstand/?$ /branchen/mittelstand

# =============================================================================
# SECTION 6: RESSOURCEN (FAQs, Videos, Blog)
# =============================================================================

# FAQs
RedirectMatch 301 ^/faqs-digitale-zeiterfassungssysteme/?$ /ressourcen/faqs

# Video-Anleitungen
RedirectMatch 301 ^/videos-zeiterfassung-fur-kleine-unternehmen/?$ /ressourcen/videoanleitungen

# Blog-Index und Pagination
RedirectMatch 301 ^/blog-rund-um-das-thema-zeiterfassung-von-zfdm/?$ /ressourcen/blog
RedirectMatch 301 ^/blog-rund-um-das-thema-zeiterfassung-von-zfdm/page/[0-9]+/?$ /ressourcen/blog

# =============================================================================
# SECTION 7: BLOG-ARTIKEL
# Alte Artikel wurden in neue umfassendere Blogs zusammengefasst
# =============================================================================

# Excel-Artikel -> zusammengefasster Excel-Guide
RedirectMatch 301 ^/7-grunde-gegen-zeiterfassung-mit-excel/?$ /ressourcen/blog/excel-vs-digitale-zeiterfassung

# Vorteile-Artikel -> exakt vorhanden
RedirectMatch 301 ^/7-vorteile-digitale-zeiterfassung/?$ /ressourcen/blog/vorteile-digitale-zeiterfassung

# Pflicht-Artikel -> aktualisierter 2025-Guide
RedirectMatch 301 ^/arbeitszeiterfassung-pflicht-in-deutschland/?$ /ressourcen/blog/zeiterfassung-pflicht-2025

# Kleinbetriebe-Artikel (2 alte URLs) -> Kosten-Guide
RedirectMatch 301 ^/digitale-zeiterfassung-fuer-kleinbetriebe/?$ /ressourcen/blog/kosten-digitale-zeiterfassung
RedirectMatch 301 ^/digitale-zeiterfassung-fur-kleine-betriebe/?$ /ressourcen/blog/kosten-digitale-zeiterfassung

# Effizienz-Artikel -> in Vorteile-Artikel integriert
RedirectMatch 301 ^/effiziente-zeiterfassung-fur-unternehmen/?$ /ressourcen/blog/vorteile-digitale-zeiterfassung

# Elektronische Systeme -> umfassender Vergleichs-Guide
RedirectMatch 301 ^/elektronische-zeiterfassungssysteme/?$ /ressourcen/blog/elektronische-zeiterfassung

# Mobile Zeiterfassung -> Mobile Guide
RedirectMatch 301 ^/mobile-zeiterfassung-fur-unterwegs-vor-ort/?$ /ressourcen/blog/mobile-zeiterfassung-guide

# Personal-Zeiterfassung -> in Vorteile-Artikel integriert
RedirectMatch 301 ^/personal-zeiterfassung-fur-ihren-betrieb/?$ /ressourcen/blog/vorteile-digitale-zeiterfassung

# Digitale Stechuhr -> Kosten-freie Loesung = ohne monatliche Kosten
RedirectMatch 301 ^/digitale-stechuhr-ohne-monatliche-kosten/?$ /ressourcen/blog/zeiterfassung-ohne-monatliche-kosten

# =============================================================================
# SECTION 8: RECHTLICHE SEITEN
# =============================================================================

# AGB (alte lange URL)
RedirectMatch 301 ^/agb-gunstige-zeiterfassung-fur-kleinbetriebe/?$ /agb

# Cookie-Policy -> Datenschutz
RedirectMatch 301 ^/cookie-policy-eu/?$ /datenschutz

# Fragebogen -> Kontakt
RedirectMatch 301 ^/fragebogen-zeiterfassung-zfdm/?$ /kontakt

# Privacy Policy Varianten
RedirectMatch 301 ^/privacy-policy/?$ /datenschutz
RedirectMatch 301 ^/privacy-policy-2/?$ /datenschutz

# =============================================================================
# SECTION 9: SONSTIGE SEITEN
# =============================================================================

# Pop-up Seite
RedirectMatch 301 ^/pop-up/?$ /

# Step-by-Step Anleitungen (DE-URLs mit EN-Inhalt)
RedirectMatch 301 ^/step-by-step-instruction-with-chip/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/step-by-step-instruction-with-fingerprint/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/step-by-step-instruction-with-facial-recognition/?$ /ressourcen/videoanleitungen

# =============================================================================
# SECTION 10: ENGLISCHE /in/ SEITEN
# Englischer Bereich wird komplett auf deutsche Seiten umgeleitet
# =============================================================================

# EN Homepage
RedirectMatch 301 ^/in/?$ /
RedirectMatch 301 ^/in/home-2/?$ /

# EN About
RedirectMatch 301 ^/in/about-us/?$ /ueber-uns

# EN Produkte
RedirectMatch 301 ^/in/time-recording-with-fingerprint/?$ /zeiterfassungssysteme/fingerabdruck
RedirectMatch 301 ^/in/time-recording-system-with-facial-recognition/?$ /zeiterfassungssysteme/gesichtserkennung

# EN Preise
RedirectMatch 301 ^/in/prices-2/?$ /preise
RedirectMatch 301 ^/in/prices-for-time-recording-systems-with-chip/?$ /preise
RedirectMatch 301 ^/in/prices-for-fingerprint-time-recording-systems-2/?$ /preise
RedirectMatch 301 ^/in/prices-for-time-tracking-with-facial-recognition/?$ /preise

# EN Referenzen
RedirectMatch 301 ^/in/references-2/?$ /branchen

# EN Kontakt
RedirectMatch 301 ^/in/kontakt-us/?$ /kontakt
RedirectMatch 301 ^/in/questionnaire/?$ /kontakt

# EN Legal
RedirectMatch 301 ^/in/data-protection/?$ /datenschutz
RedirectMatch 301 ^/in/imprint/?$ /impressum
RedirectMatch 301 ^/in/terms-and-conditions/?$ /agb

# EN Blog
RedirectMatch 301 ^/in/blog-2/?$ /ressourcen/blog
RedirectMatch 301 ^/in/blog-2/page/[0-9]+/?$ /ressourcen/blog

# EN Video-Anleitungen
RedirectMatch 301 ^/in/video-tutorial/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/in/step-by-step-instruction-with-chip/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/in/step-by-step-instruction-with-fingerprint/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/in/step-by-step-instruction-with-facial-recognition/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/in/step-by-step-instructions-with-fingerprint/?$ /ressourcen/videoanleitungen
RedirectMatch 301 ^/in/step-by-step-instructions-with-facial-recognition/?$ /ressourcen/videoanleitungen

# EN Branchen
RedirectMatch 301 ^/in/time-recording-for-small-businesses/?$ /branchen/kleinbetriebe
RedirectMatch 301 ^/in/time-recording-in-kindergarten/?$ /branchen/kindergarten

# =============================================================================
# SECTION 11: ENGLISCHE ARTIKEL (ohne /in/ Prefix)
# =============================================================================

RedirectMatch 301 ^/affordable-simple-and-web-based-time-recording-for-medium-sized-businesses/?$ /branchen/mittelstand
RedirectMatch 301 ^/do-you-already-use-a-time-recording-system-in-your-small-business/?$ /branchen/kleinbetriebe
RedirectMatch 301 ^/employee-time-recording-for-your-company/?$ /
RedirectMatch 301 ^/employee-time-recording-system-with-no-monthly-costs/?$ /zeiterfassungssysteme
RedirectMatch 301 ^/employee-time-tracking-the-key-to-business-success/?$ /
RedirectMatch 301 ^/employee-time-tracking-without-monthly-costs/?$ /zeiterfassungssysteme
RedirectMatch 301 ^/how-much-does-a-time-recording-system-cost-for-small-businesses/?$ /preise
RedirectMatch 301 ^/is-time-recording-now-mandatory-for-small-businesses/?$ /ressourcen/blog/zeiterfassung-pflicht-2025
RedirectMatch 301 ^/mobile-and-affordable-employee-time-recording-with-wi-fi/?$ /ressourcen/blog/mobile-zeiterfassung-guide
RedirectMatch 301 ^/time-recording-system-guide-working-time-recording-for-small-and-medium-sized-businesses/?$ /ressourcen/blog
RedirectMatch 301 ^/time-recording-with-excel-or-digital-time-recording/?$ /ressourcen/blog/excel-vs-digitale-zeiterfassung
RedirectMatch 301 ^/ms-bernatz-accounting-and-controlling/?$ /branchen

# =============================================================================
# SECTION 12: HTTPS ERZWINGEN
# =============================================================================

RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# =============================================================================
# SECTION 13: WWW ERZWINGEN
# =============================================================================

RewriteCond %{HTTP_HOST} ^zeiterfassung-fdm\.de [NC]
RewriteRule ^(.*)$ https://www.zeiterfassung-fdm.de/$1 [L,R=301]

# =============================================================================
# CACHING & PERFORMANCE
# =============================================================================

##### Optimize default expiration time - BEGIN
<IfModule mod_expires.c>

  ## Enable expiration control
  ExpiresActive On

  ## CSS and JS expiration: 1 week after request
  ExpiresByType text/css "now plus 1 week"
  ExpiresByType application/javascript "now plus 1 week"
  ExpiresByType application/x-javascript "now plus 1 week"

  ## Image files expiration: 1 month after request
  ExpiresByType image/bmp "now plus 1 month"
  ExpiresByType image/gif "now plus 1 month"
  ExpiresByType image/jpeg "now plus 1 month"
  ExpiresByType image/webp "now plus 1 month"
  ExpiresByType image/jp2 "now plus 1 month"
  ExpiresByType image/pipeg "now plus 1 month"
  ExpiresByType image/png "now plus 1 month"
  ExpiresByType image/svg+xml "now plus 1 month"
  ExpiresByType image/tiff "now plus 1 month"
  ExpiresByType image/x-icon "now plus 1 month"
  ExpiresByType image/ico "now plus 1 month"
  ExpiresByType image/icon "now plus 1 month"
  ExpiresByType text/ico "now plus 1 month"
  ExpiresByType application/ico "now plus 1 month"
  ExpiresByType image/vnd.wap.wbmp "now plus 1 month"

  ## Font files expiration: 1 month after request
  ExpiresByType application/x-font-ttf "now plus 1 month"
  ExpiresByType application/x-font-opentype "now plus 1 month"
  ExpiresByType application/x-font-woff "now plus 1 month"
  ExpiresByType font/woff2 "now plus 1 month"

  ## Audio files expiration: 1 month after request
  ExpiresByType audio/ogg "now plus 1 month"
  ExpiresByType application/ogg "now plus 1 month"
  ExpiresByType audio/basic "now plus 1 month"
  ExpiresByType audio/mid "now plus 1 month"
  ExpiresByType audio/midi "now plus 1 month"
  ExpiresByType audio/mpeg "now plus 1 month"
  ExpiresByType audio/mp3 "now plus 1 month"
  ExpiresByType audio/x-aiff "now plus 1 month"
  ExpiresByType audio/x-mpegurl "now plus 1 month"
  ExpiresByType audio/x-pn-realaudio "now plus 1 month"
  ExpiresByType audio/x-wav "now plus 1 month"

  ## Movie files expiration: 1 month after request
  ExpiresByType application/x-shockwave-flash "now plus 1 month"
  ExpiresByType x-world/x-vrml "now plus 1 month"
  ExpiresByType video/x-msvideo "now plus 1 month"
  ExpiresByType video/mpeg "now plus 1 month"
  ExpiresByType video/mp4 "now plus 1 month"
  ExpiresByType video/quicktime "now plus 1 month"
  ExpiresByType video/x-la-asf "now plus 1 month"
  ExpiresByType video/x-ms-asf "now plus 1 month"
</IfModule>
##### Optimize default expiration time - END

##### 1 Month for most static resources
<filesMatch ".(css|jpg|jpeg|png|webp|gif|js|ico|woff|woff2|eot|ttf)$">
  Header set Cache-Control "max-age=2592000, public"
</filesMatch>

##### Enable gzip compression for resources
<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file .(html?|txt|css|js|php)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>

##### Or, compress certain file types by extension:
<FilesMatch ".(html|css|jpg|jpeg|webp|png|gif|js|ico)">
  SetOutputFilter DEFLATE
</FilesMatch>

##### Set Header Vary: Accept-Encoding
<IfModule mod_headers.c>
  <FilesMatch ".(js|css|xml|gz|html)$">
    Header append Vary: Accept-Encoding
  </FilesMatch>
</IfModule>
