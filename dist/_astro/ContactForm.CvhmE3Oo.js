import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.1gEKNThO.js";import"./_commonjsHelpers.CqkleIqs.js";const Q="https://www.g2wcrm.b-24.de/receiveContact.php",Y=!1,X=[{value:"Offer",label:"Beratung für individuelles Angebot"},{value:"Order",label:"Per Rechnung bestellen (10% Rabatt)"}],ee=[{value:"Zeiterfassung mit RFID",label:"Zeiterfassung mit Chip"},{value:"Zeiterfassung mit Fingerabdruck",label:"Zeiterfassung mit Fingerabdruck"},{value:"Zeiterfassung mit Gesichtserkennung",label:"Zeiterfassung mit Gesichtserkennung"}],te={title:"Herr",firstname:"",lastname:"",companyname:"",email:"",tel:"",interest:"Offer",packet:"Starter",noEmployee:"25",device:"Zeiterfassung mit RFID",nodevice:"1",street:"",postcode:"",placename:"",callback:"-",source:"Webseite",recommender:"-",message:""},ne={google:"Google Suchmaschine",bing:"Bing Suchmaschine",facebook:"Facebook",linkedin:"LinkedIn",newsletter:"Newsletter"},z="zfdm_traffic_source",se=()=>{if(typeof window>"u")return null;const n=new URLSearchParams(window.location.search),d=n.get("source");if(d)return["Google Suchmaschine","Bing Suchmaschine","Facebook","LinkedIn","Weiterempfehlung","Google Ads","Bing Ads","Newsletter","ChatGPT","Perplexity","Gemini"].find(k=>k.toLowerCase()===d.toLowerCase())||d;const f=n.get("utm_source")?.toLowerCase();if(f)return ne[f]||f;if(n.get("gclid"))return"Google Ads";if(n.get("fbclid"))return"Facebook";if(n.get("msclkid"))return"Bing Ads";const h=document.referrer;if(h)try{const s=new URL(h).hostname.toLowerCase();if(s.includes("zfdm.")||s.includes("get2world."))return null;if(s.includes("google."))return"Google Suchmaschine";if(s.includes("bing."))return"Bing Suchmaschine";if(s.includes("facebook.")||s.includes("fb."))return"Facebook";if(s.includes("linkedin."))return"LinkedIn";if(s.includes("chatgpt.")||s.includes("chat.openai."))return"ChatGPT";if(s.includes("perplexity."))return"Perplexity";if(s.includes("gemini.google."))return"Gemini"}catch{}return null},ae=()=>{if(typeof window>"u")return"Webseite";try{const d=sessionStorage.getItem(z);if(d)return d}catch{}const n=se();if(n){try{sessionStorage.setItem(z,n)}catch{}return n}return"Webseite"},re="Bitte beachten Sie, dass für Sie mit der bestellung Ihres individuellen Test-Sets unsere allgemeinen Geschäftsbedingungen (AGB) akzeptieren. Sie erhalten deshalb mit dem Test-Set auch eine Rechnung, die zu begleichen ist, wenn Sie das Test-Set nicht fristgerecht zurücksenden.",ie="Mit dieser Bestellung akzeptieren Sie unsere allgemeinen Geschäftsbedingungen (AGB). Sie können können aber die Bestellung innerhalb von 14 Tagen Retounieren.";function me(){const[n,d]=i.useState(te),[f,h]=i.useState({text:"",tone:"neutral"}),[s,S]=i.useState(!1),[k,B]=i.useState(!1),[F,E]=i.useState(!1),[P,j]=i.useState(0),[U,y]=i.useState(!1),[G,D]=i.useState("test"),[C,V]=i.useState(null),p=i.useRef(null);i.useEffect(()=>{const e=new URLSearchParams(window.location.search),l=e.get("interest")?.toLowerCase(),m=e.get("model")?.toLowerCase(),x=e.get("model_size")?.toLowerCase(),g=e.get("employees"),r=e.get("min_employees"),b=ae();if(d(u=>{let c={...u};if(c.source=b,l){const o={order:"Order",offer:"Offer"}[l];o&&(c.interest=o)}if(m){const o={chip:"Zeiterfassung mit RFID",finger:"Zeiterfassung mit Fingerabdruck",fingerabdruck:"Zeiterfassung mit Fingerabdruck",face:"Zeiterfassung mit Gesichtserkennung",gesichtserkennung:"Zeiterfassung mit Gesichtserkennung"}[m];o&&(c.device=o)}if(x){const o={starter:"Starter",medium:"Medium"}[x];o&&(c.packet=o)}return g&&(c.noEmployee=g),c}),r){const u=parseInt(r,10);!isNaN(u)&&u>0&&V(u)}},[]),i.useEffect(()=>{h({text:"",tone:"neutral"})},[n.interest,n.source]),i.useEffect(()=>{if(s)return p.current=window.setInterval(()=>{j(e=>e>=100?0:e+1)},500),()=>{p.current&&(window.clearInterval(p.current),p.current=null)}},[s]);const M=n.interest==="Order",L=n.interest==="Offer",Z=n.interest==="Order";n.source;const W=i.useMemo(()=>n.interest==="Order"?"Jetzt bestellen":"Jetzt Beratung anfragen",[n.interest]),H=G==="order"?ie:re,a=(e,l)=>{d(m=>({...m,[e]:l})),k||(B(!0),O("form_started",{event_category:"form",event_label:"form_started",form_type:"contact"}))},R=()=>{p.current&&(window.clearInterval(p.current),p.current=null),S(!1),E(!1),j(0)},O=(e,l)=>{window.gtag?.("event",e,l)},K=()=>{const e=n;if(!e.firstname||e.firstname.trim().length===0)return window.alert("Ihr Vorname fehlt"),!1;if(e.firstname.trim().length>100)return window.alert("Maximal 100 Charakter erlaubt in Vornamesfeld"),!1;let l=e.nodevice.trim();if((l.length===0||l==="0")&&(l="1",a("nodevice","1")),!e.lastname||e.lastname.trim().length===0)return window.alert("Ihr Nachname fehlt"),!1;if(e.lastname.trim().length>100)return window.alert("Maximal 100 Charakter erlaubt in Nachnamesfeld"),!1;if(e.companyname.trim().length<3)return window.alert("Firmenfeld muss mindestens 3 Charakter beinhalten"),!1;if(e.companyname.trim().length>100)return window.alert("Firmenfeld muss maximal 100 Charakter beinhalten"),!1;if(e.email.trim().length===0||e.email.trim().length>100)return window.alert("Geben Sie eine gültige E-Mail Adresse des Vorgesetzten ein. Die E-Mail Adresse des Vorgesetzten darf maximal 100 Zeichen lang sein"),!1;const m=e.email.indexOf("@"),x=e.email.lastIndexOf(".");if(m<1||x<m+2||x+2>=e.email.length)return window.alert("Geben Sie eine gültige E-Mail Adresse ein."),!1;let g="-";const r=e.street.trim();if(r.length>0&&!/\d+/.test(r)&&!window.confirm("Es gibt keine Hausnummer in der Adresse. Ist die Adresse korrekt ?"))return!1;if(M){if(r.length<5)return window.alert("Bitte geben Sie Ihre Strasse und Hausnummer ein."),!1;if(r.length>200)return window.alert("Ihre Adresse scheint nicht richtig zu sein"),!1;if(g=r,e.postcode.trim().length<4)return window.alert("Bitte geben Sie Ihre Postleitzahl ein."),!1;if(e.placename.trim().length<2)return window.alert("Bitte geben Sie Ihren Ort ein."),!1}else if(L){if(r.length>200)return window.alert("Ihre Adresse scheint nicht richtig zu sein"),!1;r.length>10&&r.length<200&&(g=r)}if(e.postcode.trim().length>0&&e.postcode.trim().length<4)return window.alert("Ihre PLZ ist nicht richtig"),!1;if(e.placename.trim().length>100)return window.alert("Maximal 100 Charakter erlaubt in Ortnamesfeld"),!1;const b=e.message.trim().length;if(b>1&&b<5)return window.alert("Ihre Nachricht ist sehr kurz"),!1;if(b>1001)return window.alert("Bitte versuchen Sie die Nachtricht in 1000 Charakter zu fassen"),!1;if(e.tel.trim().length<=1||e.tel.trim().length>=21)return window.alert("Ihre Telefonnummer scheint nicht richtig zu sein"),!1;if(!e.noEmployee||e.noEmployee.trim().length===0)return window.alert("Geben Sie einen gültigen Mitarbeiterzahl ein."),!1;if(C!==null){const v=parseInt(e.noEmployee,10);if(isNaN(v)||v<C)return window.alert(`Mindestens ${C} Mitarbeiter erforderlich.`),!1}const u=e.noEmployee,c="-",w=Z?"Bestellung":"Angebot",o=["Google Suchmaschine","Bing Suchmaschine","Facebook","LinkedIn","Ich wurde von einem Get2world Kundenberater kontaktiert","Weiterempfehlung"].indexOf(e.source);return o===4?(window.alert("Bitte kontaktieren Sie unsere Kundenberater direkt für die Bestellung oder Angebot. Vielen Dank."),!1):o===5&&n.recommender.trim().length<3?(window.alert("Bitte geben Sie den Namen des Empfehlers. Name des Empfehlers muss mindestens 3 Charakter enthalten."),!1):{firstname:e.firstname,lastname:e.lastname,address:g,phone:e.tel,employees:u,packet:c,callback:w,deviceType:e.device,source:e.source,message:n.message,nodevice:l}},A=async()=>{const e=K();if(!e)return;const{firstname:l,lastname:m,address:x,phone:g,employees:r,packet:b,callback:u,deviceType:c,source:w,message:o,nodevice:v}=e,T="title="+encodeURIComponent(n.title)+"&firstname="+encodeURIComponent(l)+"&name="+encodeURIComponent(m)+"&email="+encodeURIComponent(n.email)+"&companyname="+encodeURIComponent(n.companyname)+"&phoneno="+encodeURIComponent(g)+"&noEmployee="+encodeURIComponent(r)+"&address="+encodeURIComponent(x)+"&whichpacket="+encodeURIComponent(b)+"&type="+encodeURIComponent(c)+"&source="+encodeURIComponent(w)+"&usermsg="+encodeURIComponent(o)+"&callback="+encodeURIComponent(u)+"&postcode="+encodeURIComponent(n.postcode)+"&placename="+encodeURIComponent(n.placename)+"&nodevice="+encodeURIComponent(v)+"&recommender="+encodeURIComponent(n.recommender);try{S(!0),E(!0),j(0),h({text:"",tone:"neutral"});const _=await(await fetch(Q,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:T})).text();if(R(),_.includes("success")){h({text:"Wir werden Sie bald kontaktieren, vielen Dank.",tone:"success"}),O("form_submitted",{event_category:"conversion",event_label:"lead",form_type:"contact",interest:n.interest,value:500});const N=window;N.gtag?.("event","contact",{event_category:"success",event_label:"Quelle",value:w}),N.gtag?.("event","conversion",{send_to:"AW-878299546/jsQfCNPShr0bEJqT56ID",value:1,currency:"EUR"}),N.fbq?.("track","Purchase",{value:500,currency:"EUR",contents:[{id:c,quantity:n.nodevice}],content_type:"product"}),N.clarity?.("event","contact_anfrage")}else h({text:_,tone:"error"})}catch(I){console.error(I),R(),h({text:"Das Senden ist fehlgeschlagen. Bitte versuchen Sie es später erneut.",tone:"error"})}},$=async()=>{y(!1),await A()},J=async()=>{await A()},q=f.tone==="success"?"text-green-600":f.tone==="error"?"text-red-600":"text-gray-700";return t.jsxs("section",{id:"kontakt",className:"section -mt-32",children:[t.jsx("div",{className:"container",children:t.jsx("div",{className:"row justify-center",children:t.jsxs("div",{className:"lg:col-10",children:[t.jsxs("div",{className:"mb-12 flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start bg-light border border-border/20 rounded-xl p-6 shadow-sm","data-aos":"fade-up-sm",children:[t.jsx("img",{src:"/images/avatar/ZFDM-Kundenberater-Simon.webp",alt:"Simon Zipf - Ihr Ansprechpartner",className:"w-32 h-32 md:w-40 md:h-40 rounded-full object-cover shadow-md"}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[t.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-text-dark mb-3",children:"Hallo, ich bin Simon Zipf!"}),t.jsx("p",{className:"text-base md:text-lg text-text leading-relaxed mb-4",children:"Als Ihr persönlicher Ansprechpartner freue ich mich darauf, Sie kennenzulernen. Füllen Sie das untenstehende Formular aus oder kontaktieren Sie mich direkt per Telefon oder E-Mail. Gemeinsam finden wir die perfekte Zeiterfassungslösung für Ihr Unternehmen!"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center md:justify-start",children:[t.jsxs("a",{href:"tel:+4961839210941",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors font-medium",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-4 h-4 fill-current",children:t.jsx("path",{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"})}),"+49 6183 921 0941"]}),t.jsxs("a",{href:"mailto:anfrage@get2world.com",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors font-medium",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-4 h-4 fill-current",children:t.jsx("path",{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"})}),"anfrage@get2world.com"]})]})]})]}),t.jsxs("div",{"data-aos":"fade-up-sm","data-aos-delay":"100",children:[t.jsx("h2",{className:"h3 mb-6 text-text-dark",children:"Kontaktformular"}),t.jsx("div",{className:"rounded-xl bg-light border border-border/20 p-6 shadow-sm",children:t.jsxs("form",{id:"frmContact",className:"space-y-6",onSubmit:async e=>{e.preventDefault(),n.interest==="Order"?(D("order"),y(!0)):await J()},children:[t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsxs("label",{className:"form-label",children:["Anrede",t.jsxs("select",{name:"title",id:"idTitle",className:"form-input custom-select",value:n.title,onChange:e=>a("title",e.target.value),children:[t.jsx("option",{value:"Herr",children:"Herr"}),t.jsx("option",{value:"Frau",children:"Frau"})]})]}),t.jsxs("label",{className:"form-label",children:["Ihr Vorname*",t.jsx("input",{autoComplete:"given-name",id:"IDFirstName",type:"text",maxLength:100,className:"form-input",value:n.firstname,onChange:e=>a("firstname",e.target.value)})]}),t.jsxs("label",{className:"form-label",children:["Ihr Nachname*",t.jsx("input",{autoComplete:"family-name",type:"text",name:"name",maxLength:100,className:"form-input",value:n.lastname,onChange:e=>a("lastname",e.target.value)})]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsxs("label",{className:"form-label",children:["Firma*",t.jsx("input",{autoComplete:"organization",type:"text",name:"companyname",maxLength:100,className:"form-input",value:n.companyname,onChange:e=>a("companyname",e.target.value)})]}),t.jsxs("label",{className:"form-label",children:["Ihre E-Mail*",t.jsx("input",{autoComplete:"email",type:"email",name:"email",maxLength:100,className:"form-input",value:n.email,onChange:e=>a("email",e.target.value)})]}),t.jsxs("label",{className:"form-label",children:["Telefon/Mobilnummer*",t.jsx("input",{type:"tel",id:"custTel",name:"tel",maxLength:20,className:"form-input",value:n.tel,onChange:e=>a("tel",e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))})]})]}),t.jsxs("label",{className:"form-label",children:["Anzahl Mitarbeiter*",t.jsx("input",{type:"text",name:"noEmployee",id:"noEmployee",maxLength:3,className:"form-input",value:n.noEmployee,onChange:e=>a("noEmployee",e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[t.jsxs("label",{className:"form-label",children:["Interesse*",t.jsx("select",{name:"interest",id:"idInterest",className:"form-input custom-select",value:n.interest,onChange:e=>a("interest",e.target.value),children:X.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),t.jsxs("label",{className:"form-label",children:["Zeiterfassungssystem*",t.jsx("select",{name:"device",id:"idDevice",className:"form-input custom-select",value:n.device,onChange:e=>a("device",e.target.value),children:ee.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),M&&t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.jsxs("label",{className:"form-label sm:col-span-3",children:["Strasse und Hausnummer*",t.jsx("input",{type:"text",name:"street",autoComplete:"street-address",maxLength:100,className:"form-input",value:n.street,onChange:e=>a("street",e.target.value)})]}),t.jsxs("label",{className:"form-label",children:["Postleitzahl*",t.jsx("input",{type:"text",name:"postcode",autoComplete:"postal-code",maxLength:10,className:"form-input",value:n.postcode,onChange:e=>a("postcode",e.target.value)})]}),t.jsxs("label",{className:"form-label sm:col-span-2",children:["Ort*",t.jsx("input",{type:"text",name:"placename",autoComplete:"address-level2",maxLength:100,className:"form-input",value:n.placename,onChange:e=>a("placename",e.target.value)})]})]}),t.jsxs("label",{className:"form-label",children:["Ihre Nachricht (optional)",t.jsx("textarea",{name:"message",id:"txtCustMessage",maxLength:1e3,rows:4,className:"form-input min-h-[80px] resize-y",value:n.message,onChange:e=>a("message",e.target.value)})]}),f.text&&t.jsx("div",{className:"text-sm",children:t.jsx("span",{className:`font-medium ${q}`,children:f.text})}),t.jsx("div",{id:"divOffer",className:"mt-6",children:t.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:L?"Jetzt Demo buchen":W})}),F&&t.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-border/20 mt-4",id:"sendStatus",children:t.jsx("div",{id:"pgValue",className:"h-full bg-primary transition-all",style:{width:`${P}%`}})})]})})]})]})})}),U&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-text-dark/80 backdrop-blur-sm p-4",children:t.jsxs("div",{className:"w-full max-w-lg rounded-lg bg-light border border-border/20 p-6 shadow-lg",children:[t.jsx("button",{type:"button",className:"float-right text-2xl font-semibold text-text hover:text-text-dark transition-colors",onClick:()=>y(!1),children:"×"}),t.jsxs("div",{className:"mt-4 space-y-6",children:[t.jsx("div",{className:"text-sm leading-relaxed text-text",children:H}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>y(!1),children:"Abbrechen"}),t.jsx("button",{type:"button",className:"btn btn-primary",onClick:$,children:"Bestätigen"})]})]})]})})]})}export{me as ContactForm};
